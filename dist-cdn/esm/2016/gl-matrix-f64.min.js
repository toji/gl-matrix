// glMatrix - v4.0.0-beta.3
var de=A=>{throw TypeError(A)};var xe=(A,e,t)=>e.has(A)||de("Cannot "+t);var E=(A,e,t)=>(xe(A,e,"read from private field"),t?t.call(A):e.get(A)),Z=(A,e,t)=>e.has(A)?de("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(A):e.set(A,t);var ne,C=class C extends Float64Array{constructor(...e){switch(e.length){case 4:super(e);break;case 2:super(e[0],e[1],4);break;case 1:let t=e[0];typeof t=="number"?super([t,t,t,t]):super(t,0,4);break;default:super(E(C,ne));break}}get str(){return C.str(this)}copy(e){return this.set(e),this}identity(){return this.set(E(C,ne)),this}multiply(e){return C.multiply(this,this,e)}mul(e){return this}transpose(){return C.transpose(this,this)}invert(){return C.invert(this,this)}scale(e){return C.scale(this,this,e)}rotate(e){return C.rotate(this,this,e)}static get BYTE_LENGTH(){return 4*Float64Array.BYTES_PER_ELEMENT}static create(){return new C}static clone(e){return new C(e)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}static fromValues(...e){return new C(...e)}static set(e,...t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}static identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}static transpose(e,t){if(e===t){let n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}static invert(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=n*i-r*s;return a?(a=1/a,e[0]=i*a,e[1]=-s*a,e[2]=-r*a,e[3]=n*a,e):null}static adjoint(e,t){let n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}static determinant(e){return e[0]*e[3]-e[2]*e[1]}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}static subtract(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}static sub(e,t,n){return e}static multiply(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=n[0],y=n[1],L=n[2],k=n[3];return e[0]=s*c+i*y,e[1]=r*c+a*y,e[2]=s*L+i*k,e[3]=r*L+a*k,e}static mul(e,t,n){return e}static rotate(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=Math.sin(n),y=Math.cos(n);return e[0]=s*y+i*c,e[1]=r*y+a*c,e[2]=s*-c+i*y,e[3]=r*-c+a*y,e}static scale(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=n[0],y=n[1];return e[0]=s*c,e[1]=r*c,e[2]=i*y,e[3]=a*y,e}static fromRotation(e,t){let n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=-n,e[3]=s,e}static fromScaling(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}static frob(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3])}static multiplyScalar(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}static multiplyScalarAndAdd(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e}static LDU(e,t,n,s){return e[2]=s[2]/s[0],n[0]=s[0],n[1]=s[1],n[3]=s[3]-e[2]*n[1],[e,t,n]}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}static equals(e,t){let n=e[0],s=e[1],r=e[2],i=e[3],a=t[0],c=t[1],y=t[2],L=t[3];return Math.abs(n-a)<=1e-6*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(s-c)<=1e-6*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-y)<=1e-6*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-L)<=1e-6*Math.max(1,Math.abs(i),Math.abs(L))}static str(e){return`Mat2(${e.join(", ")})`}};ne=new WeakMap,Z(C,ne,new Float64Array([1,0,0,1]));var v=C;v.prototype.mul=v.prototype.multiply;v.mul=v.multiply;v.sub=v.subtract;var se,$=class $ extends Float64Array{constructor(...e){switch(e.length){case 6:super(e);break;case 2:super(e[0],e[1],6);break;case 1:let t=e[0];typeof t=="number"?super([t,t,t,t,t,t]):super(t,0,6);break;default:super(E($,se));break}}get str(){return $.str(this)}copy(e){return this.set(e),this}identity(){return this.set(E($,se)),this}multiply(e){return $.multiply(this,this,e)}mul(e){return this}translate(e){return $.translate(this,this,e)}rotate(e){return $.rotate(this,this,e)}scale(e){return $.scale(this,this,e)}static get BYTE_LENGTH(){return 6*Float64Array.BYTES_PER_ELEMENT}static create(){return new $}static clone(e){return new $(e)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}static fromValues(...e){return new $(...e)}static set(e,...t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}static identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}static invert(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=t[4],c=t[5],y=n*i-s*r;return y?(y=1/y,e[0]=i*y,e[1]=-s*y,e[2]=-r*y,e[3]=n*y,e[4]=(r*c-i*a)*y,e[5]=(s*a-n*c)*y,e):null}static determinant(e){return e[0]*e[3]-e[1]*e[2]}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}static subtract(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}static sub(e,t,n){return e}static multiply(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=n[0],k=n[1],l=n[2],b=n[3],h=n[4],M=n[5];return e[0]=s*L+i*k,e[1]=r*L+a*k,e[2]=s*l+i*b,e[3]=r*l+a*b,e[4]=s*h+i*M+c,e[5]=r*h+a*M+y,e}static mul(e,t,n){return e}static translate(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=n[0],k=n[1];return e[0]=s,e[1]=r,e[2]=i,e[3]=a,e[4]=s*L+i*k+c,e[5]=r*L+a*k+y,e}static rotate(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=Math.sin(n),k=Math.cos(n);return e[0]=s*k+i*L,e[1]=r*k+a*L,e[2]=s*-L+i*k,e[3]=r*-L+a*k,e[4]=c,e[5]=y,e}static scale(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=n[0],k=n[1];return e[0]=s*L,e[1]=r*L,e[2]=i*k,e[3]=a*k,e[4]=c,e[5]=y,e}static fromTranslation(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}static fromRotation(e,t){let n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=-n,e[3]=s,e[4]=0,e[5]=0,e}static fromScaling(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}static frob(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+1)}static multiplyScalar(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}static multiplyScalarAndAdd(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e[4]=t[4]+n[4]*s,e[5]=t[5]+n[5]*s,e}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}static equals(e,t){let n=e[0],s=e[1],r=e[2],i=e[3],a=e[4],c=e[5],y=t[0],L=t[1],k=t[2],l=t[3],b=t[4],h=t[5];return Math.abs(n-y)<=1e-6*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(s-L)<=1e-6*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(r-k)<=1e-6*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(i-l)<=1e-6*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-b)<=1e-6*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(c-h)<=1e-6*Math.max(1,Math.abs(c),Math.abs(h))}static str(e){return`Mat2d(${e.join(", ")})`}};se=new WeakMap,Z($,se,new Float64Array([1,0,0,1,0,0]));var _=$;_.mul=_.multiply;_.sub=_.subtract;var re,X=class X extends Float64Array{constructor(...e){switch(e.length){case 9:super(e);break;case 2:super(e[0],e[1],9);break;case 1:let t=e[0];typeof t=="number"?super([t,t,t,t,t,t,t,t,t]):super(t,0,9);break;default:super(E(X,re));break}}get str(){return X.str(this)}copy(e){return this.set(e),this}identity(){return this.set(E(X,re)),this}multiply(e){return X.multiply(this,this,e)}mul(e){return this}transpose(){return X.transpose(this,this)}invert(){return X.invert(this,this)}translate(e){return X.translate(this,this,e)}rotate(e){return X.rotate(this,this,e)}scale(e){return X.scale(this,this,e)}static get BYTE_LENGTH(){return 9*Float64Array.BYTES_PER_ELEMENT}static create(){return new X}static clone(e){return new X(e)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}static fromValues(...e){return new X(...e)}static set(e,...t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}static identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}static transpose(e,t){if(e===t){let n=t[1],s=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=s,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}static invert(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=t[4],c=t[5],y=t[6],L=t[7],k=t[8],l=k*a-c*L,b=-k*i+c*y,h=L*i-a*y,M=n*l+s*b+r*h;return M?(M=1/M,e[0]=l*M,e[1]=(-k*s+r*L)*M,e[2]=(c*s-r*a)*M,e[3]=b*M,e[4]=(k*n-r*y)*M,e[5]=(-c*n+r*i)*M,e[6]=h*M,e[7]=(-L*n+s*y)*M,e[8]=(a*n-s*i)*M,e):null}static adjoint(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=t[4],c=t[5],y=t[6],L=t[7],k=t[8];return e[0]=a*k-c*L,e[1]=r*L-s*k,e[2]=s*c-r*a,e[3]=c*y-i*k,e[4]=n*k-r*y,e[5]=r*i-n*c,e[6]=i*L-a*y,e[7]=s*y-n*L,e[8]=n*a-s*i,e}static determinant(e){let t=e[0],n=e[1],s=e[2],r=e[3],i=e[4],a=e[5],c=e[6],y=e[7],L=e[8];return t*(L*i-a*y)+n*(-L*r+a*c)+s*(y*r-i*c)}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}static subtract(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}static sub(e,t,n){return e}static multiply(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=t[6],k=t[7],l=t[8],b=n[0],h=n[1],M=n[2];return e[0]=b*s+h*a+M*L,e[1]=b*r+h*c+M*k,e[2]=b*i+h*y+M*l,b=n[3],h=n[4],M=n[5],e[3]=b*s+h*a+M*L,e[4]=b*r+h*c+M*k,e[5]=b*i+h*y+M*l,b=n[6],h=n[7],M=n[8],e[6]=b*s+h*a+M*L,e[7]=b*r+h*c+M*k,e[8]=b*i+h*y+M*l,e}static mul(e,t,n){return e}static translate(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=t[6],k=t[7],l=t[8],b=n[0],h=n[1];return e[0]=s,e[1]=r,e[2]=i,e[3]=a,e[4]=c,e[5]=y,e[6]=b*s+h*a+L,e[7]=b*r+h*c+k,e[8]=b*i+h*y+l,e}static rotate(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=t[6],k=t[7],l=t[8],b=Math.sin(n),h=Math.cos(n);return e[0]=h*s+b*a,e[1]=h*r+b*c,e[2]=h*i+b*y,e[3]=h*a-b*s,e[4]=h*c-b*r,e[5]=h*y-b*i,e[6]=L,e[7]=k,e[8]=l,e}static scale(e,t,n){let s=n[0],r=n[1];return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}static fromTranslation(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}static fromRotation(e,t){let n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=0,e[3]=-n,e[4]=s,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}static fromScaling(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}static fromMat2d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}static fromQuat(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=n+n,c=s+s,y=r+r,L=n*a,k=s*a,l=s*c,b=r*a,h=r*c,M=r*y,d=i*a,m=i*c,x=i*y;return e[0]=1-l-M,e[3]=k-x,e[6]=b+m,e[1]=k+x,e[4]=1-L-M,e[7]=h-d,e[2]=b-m,e[5]=h+d,e[8]=1-L-l,e}static fromMat4(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}static normalFromMat4(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=t[4],c=t[5],y=t[6],L=t[7],k=t[8],l=t[9],b=t[10],h=t[11],M=t[12],d=t[13],m=t[14],x=t[15],V=n*c-s*a,o=n*y-r*a,R=n*L-i*a,z=s*y-r*c,g=s*L-i*c,S=r*L-i*y,B=k*d-l*M,N=k*m-b*M,p=k*x-h*M,Y=l*m-b*d,I=l*x-h*d,P=b*x-h*m,Q=V*P-o*I+R*Y+z*p-g*N+S*B;return Q?(Q=1/Q,e[0]=(c*P-y*I+L*Y)*Q,e[1]=(y*p-a*P-L*N)*Q,e[2]=(a*I-c*p+L*B)*Q,e[3]=(r*I-s*P-i*Y)*Q,e[4]=(n*P-r*p+i*N)*Q,e[5]=(s*p-n*I-i*B)*Q,e[6]=(d*S-m*g+x*z)*Q,e[7]=(m*R-M*S-x*o)*Q,e[8]=(M*g-d*R+x*V)*Q,e):null}static normalFromMat4Fast(e,t){let n=t[0],s=t[1],r=t[2],i=t[4],a=t[5],c=t[6],y=t[8],L=t[9],k=t[10];return e[0]=a*k-k*L,e[1]=c*y-y*k,e[2]=i*L-L*y,e[3]=L*r-k*s,e[4]=k*n-y*r,e[5]=y*s-L*n,e[6]=s*c-r*a,e[7]=r*i-n*c,e[8]=n*a-s*i,e}static projection(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}static frob(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8])}static multiplyScalar(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}static multiplyScalarAndAdd(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e[4]=t[4]+n[4]*s,e[5]=t[5]+n[5]*s,e[6]=t[6]+n[6]*s,e[7]=t[7]+n[7]*s,e[8]=t[8]+n[8]*s,e}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}static equals(e,t){let n=e[0],s=e[1],r=e[2],i=e[3],a=e[4],c=e[5],y=e[6],L=e[7],k=e[8],l=t[0],b=t[1],h=t[2],M=t[3],d=t[4],m=t[5],x=t[6],V=t[7],o=t[8];return Math.abs(n-l)<=1e-6*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-b)<=1e-6*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(r-h)<=1e-6*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-M)<=1e-6*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(a-d)<=1e-6*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(c-m)<=1e-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(y-x)<=1e-6*Math.max(1,Math.abs(y),Math.abs(x))&&Math.abs(L-V)<=1e-6*Math.max(1,Math.abs(L),Math.abs(V))&&Math.abs(k-o)<=1e-6*Math.max(1,Math.abs(k),Math.abs(o))}static str(e){return`Mat3(${e.join(", ")})`}};re=new WeakMap,Z(X,re,new Float64Array([1,0,0,0,1,0,0,0,1]));var u=X;u.prototype.mul=u.prototype.multiply;u.mul=u.multiply;u.sub=u.subtract;var ie,H,D=class D extends Float64Array{constructor(...e){switch(e.length){case 16:super(e);break;case 2:super(e[0],e[1],16);break;case 1:let t=e[0];typeof t=="number"?super([t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t]):super(t,0,16);break;default:super(E(D,ie));break}}get str(){return D.str(this)}copy(e){return this.set(e),this}identity(){return this.set(E(D,ie)),this}multiply(e){return D.multiply(this,this,e)}mul(e){return this}transpose(){return D.transpose(this,this)}invert(){return D.invert(this,this)}translate(e){return D.translate(this,this,e)}rotate(e,t){return D.rotate(this,this,e,t)}scale(e){return D.scale(this,this,e)}rotateX(e){return D.rotateX(this,this,e)}rotateY(e){return D.rotateY(this,this,e)}rotateZ(e){return D.rotateZ(this,this,e)}perspectiveNO(e,t,n,s){return D.perspectiveNO(this,e,t,n,s)}perspectiveZO(e,t,n,s){return D.perspectiveZO(this,e,t,n,s)}orthoNO(e,t,n,s,r,i){return D.orthoNO(this,e,t,n,s,r,i)}orthoZO(e,t,n,s,r,i){return D.orthoZO(this,e,t,n,s,r,i)}static get BYTE_LENGTH(){return 16*Float64Array.BYTES_PER_ELEMENT}static create(){return new D}static clone(e){return new D(e)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}static fromValues(...e){return new D(...e)}static set(e,...t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}static identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static transpose(e,t){if(e===t){let n=t[1],s=t[2],r=t[3],i=t[6],a=t[7],c=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=i,e[11]=t[14],e[12]=r,e[13]=a,e[14]=c}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}static invert(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=t[4],c=t[5],y=t[6],L=t[7],k=t[8],l=t[9],b=t[10],h=t[11],M=t[12],d=t[13],m=t[14],x=t[15],V=n*c-s*a,o=n*y-r*a,R=n*L-i*a,z=s*y-r*c,g=s*L-i*c,S=r*L-i*y,B=k*d-l*M,N=k*m-b*M,p=k*x-h*M,Y=l*m-b*d,I=l*x-h*d,P=b*x-h*m,Q=V*P-o*I+R*Y+z*p-g*N+S*B;return Q?(Q=1/Q,e[0]=(c*P-y*I+L*Y)*Q,e[1]=(r*I-s*P-i*Y)*Q,e[2]=(d*S-m*g+x*z)*Q,e[3]=(b*g-l*S-h*z)*Q,e[4]=(y*p-a*P-L*N)*Q,e[5]=(n*P-r*p+i*N)*Q,e[6]=(m*R-M*S-x*o)*Q,e[7]=(k*S-b*R+h*o)*Q,e[8]=(a*I-c*p+L*B)*Q,e[9]=(s*p-n*I-i*B)*Q,e[10]=(M*g-d*R+x*V)*Q,e[11]=(l*R-k*g-h*V)*Q,e[12]=(c*N-a*Y-y*B)*Q,e[13]=(n*Y-s*N+r*B)*Q,e[14]=(d*o-M*z-m*V)*Q,e[15]=(k*z-l*o+b*V)*Q,e):null}static adjoint(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=t[4],c=t[5],y=t[6],L=t[7],k=t[8],l=t[9],b=t[10],h=t[11],M=t[12],d=t[13],m=t[14],x=t[15],V=n*c-s*a,o=n*y-r*a,R=n*L-i*a,z=s*y-r*c,g=s*L-i*c,S=r*L-i*y,B=k*d-l*M,N=k*m-b*M,p=k*x-h*M,Y=l*m-b*d,I=l*x-h*d,P=b*x-h*m;return e[0]=c*P-y*I+L*Y,e[1]=r*I-s*P-i*Y,e[2]=d*S-m*g+x*z,e[3]=b*g-l*S-h*z,e[4]=y*p-a*P-L*N,e[5]=n*P-r*p+i*N,e[6]=m*R-M*S-x*o,e[7]=k*S-b*R+h*o,e[8]=a*I-c*p+L*B,e[9]=s*p-n*I-i*B,e[10]=M*g-d*R+x*V,e[11]=l*R-k*g-h*V,e[12]=c*N-a*Y-y*B,e[13]=n*Y-s*N+r*B,e[14]=d*o-M*z-m*V,e[15]=k*z-l*o+b*V,e}static determinant(e){let t=e[0],n=e[1],s=e[2],r=e[3],i=e[4],a=e[5],c=e[6],y=e[7],L=e[8],k=e[9],l=e[10],b=e[11],h=e[12],M=e[13],d=e[14],m=e[15],x=t*a-n*i,V=t*c-s*i,o=n*c-s*a,R=L*M-k*h,z=L*d-l*h,g=k*d-l*M,S=t*g-n*z+s*R,B=i*g-a*z+c*R,N=L*o-k*V+l*x,p=h*o-M*V+d*x;return y*S-r*B+m*N-b*p}static multiply(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=t[4],y=t[5],L=t[6],k=t[7],l=t[8],b=t[9],h=t[10],M=t[11],d=t[12],m=t[13],x=t[14],V=t[15],o=n[0],R=n[1],z=n[2],g=n[3];return e[0]=o*s+R*c+z*l+g*d,e[1]=o*r+R*y+z*b+g*m,e[2]=o*i+R*L+z*h+g*x,e[3]=o*a+R*k+z*M+g*V,o=n[4],R=n[5],z=n[6],g=n[7],e[4]=o*s+R*c+z*l+g*d,e[5]=o*r+R*y+z*b+g*m,e[6]=o*i+R*L+z*h+g*x,e[7]=o*a+R*k+z*M+g*V,o=n[8],R=n[9],z=n[10],g=n[11],e[8]=o*s+R*c+z*l+g*d,e[9]=o*r+R*y+z*b+g*m,e[10]=o*i+R*L+z*h+g*x,e[11]=o*a+R*k+z*M+g*V,o=n[12],R=n[13],z=n[14],g=n[15],e[12]=o*s+R*c+z*l+g*d,e[13]=o*r+R*y+z*b+g*m,e[14]=o*i+R*L+z*h+g*x,e[15]=o*a+R*k+z*M+g*V,e}static mul(e,t,n){return e}static translate(e,t,n){let s=n[0],r=n[1],i=n[2];if(t===e)e[12]=t[0]*s+t[4]*r+t[8]*i+t[12],e[13]=t[1]*s+t[5]*r+t[9]*i+t[13],e[14]=t[2]*s+t[6]*r+t[10]*i+t[14],e[15]=t[3]*s+t[7]*r+t[11]*i+t[15];else{let a=t[0],c=t[1],y=t[2],L=t[3],k=t[4],l=t[5],b=t[6],h=t[7],M=t[8],d=t[9],m=t[10],x=t[11];e[0]=a,e[1]=c,e[2]=y,e[3]=L,e[4]=k,e[5]=l,e[6]=b,e[7]=h,e[8]=M,e[9]=d,e[10]=m,e[11]=x,e[12]=a*s+k*r+M*i+t[12],e[13]=c*s+l*r+d*i+t[13],e[14]=y*s+b*r+m*i+t[14],e[15]=L*s+h*r+x*i+t[15]}return e}static scale(e,t,n){let s=n[0],r=n[1],i=n[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}static rotate(e,t,n,s){let r=s[0],i=s[1],a=s[2],c=Math.sqrt(r*r+i*i+a*a);if(c<1e-6)return null;c=1/c,r*=c,i*=c,a*=c;let y=Math.sin(n),L=Math.cos(n),k=1-L,l=t[0],b=t[1],h=t[2],M=t[3],d=t[4],m=t[5],x=t[6],V=t[7],o=t[8],R=t[9],z=t[10],g=t[11],S=r*r*k+L,B=i*r*k+a*y,N=a*r*k-i*y,p=r*i*k-a*y,Y=i*i*k+L,I=a*i*k+r*y,P=r*a*k+i*y,Q=i*a*k-r*y,K=a*a*k+L;return e[0]=l*S+d*B+o*N,e[1]=b*S+m*B+R*N,e[2]=h*S+x*B+z*N,e[3]=M*S+V*B+g*N,e[4]=l*p+d*Y+o*I,e[5]=b*p+m*Y+R*I,e[6]=h*p+x*Y+z*I,e[7]=M*p+V*Y+g*I,e[8]=l*P+d*Q+o*K,e[9]=b*P+m*Q+R*K,e[10]=h*P+x*Q+z*K,e[11]=M*P+V*Q+g*K,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e}static rotateX(e,t,n){let s=Math.sin(n),r=Math.cos(n),i=t[4],a=t[5],c=t[6],y=t[7],L=t[8],k=t[9],l=t[10],b=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*r+L*s,e[5]=a*r+k*s,e[6]=c*r+l*s,e[7]=y*r+b*s,e[8]=L*r-i*s,e[9]=k*r-a*s,e[10]=l*r-c*s,e[11]=b*r-y*s,e}static rotateY(e,t,n){let s=Math.sin(n),r=Math.cos(n),i=t[0],a=t[1],c=t[2],y=t[3],L=t[8],k=t[9],l=t[10],b=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r-L*s,e[1]=a*r-k*s,e[2]=c*r-l*s,e[3]=y*r-b*s,e[8]=i*s+L*r,e[9]=a*s+k*r,e[10]=c*s+l*r,e[11]=y*s+b*r,e}static rotateZ(e,t,n){let s=Math.sin(n),r=Math.cos(n),i=t[0],a=t[1],c=t[2],y=t[3],L=t[4],k=t[5],l=t[6],b=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r+L*s,e[1]=a*r+k*s,e[2]=c*r+l*s,e[3]=y*r+b*s,e[4]=L*r-i*s,e[5]=k*r-a*s,e[6]=l*r-c*s,e[7]=b*r-y*s,e}static fromTranslation(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}static fromScaling(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromRotation(e,t,n){let s=n[0],r=n[1],i=n[2],a=Math.sqrt(s*s+r*r+i*i);if(a<1e-6)return null;a=1/a,s*=a,r*=a,i*=a;let c=Math.sin(t),y=Math.cos(t),L=1-y;return e[0]=s*s*L+y,e[1]=r*s*L+i*c,e[2]=i*s*L-r*c,e[3]=0,e[4]=s*r*L-i*c,e[5]=r*r*L+y,e[6]=i*r*L+s*c,e[7]=0,e[8]=s*i*L+r*c,e[9]=r*i*L-s*c,e[10]=i*i*L+y,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromXRotation(e,t){let n=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromYRotation(e,t){let n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromZRotation(e,t){let n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromRotationTranslation(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=s+s,y=r+r,L=i+i,k=s*c,l=s*y,b=s*L,h=r*y,M=r*L,d=i*L,m=a*c,x=a*y,V=a*L;return e[0]=1-(h+d),e[1]=l+V,e[2]=b-x,e[3]=0,e[4]=l-V,e[5]=1-(k+d),e[6]=M+m,e[7]=0,e[8]=b+x,e[9]=M-m,e[10]=1-(k+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}static fromQuat2(e,t){let n=-t[0],s=-t[1],r=-t[2],i=t[3],a=t[4],c=t[5],y=t[6],L=t[7],k=n*n+s*s+r*r+i*i;return k>0?(E(D,H)[0]=(a*i+L*n+c*r-y*s)*2/k,E(D,H)[1]=(c*i+L*s+y*n-a*r)*2/k,E(D,H)[2]=(y*i+L*r+a*s-c*n)*2/k):(E(D,H)[0]=(a*i+L*n+c*r-y*s)*2,E(D,H)[1]=(c*i+L*s+y*n-a*r)*2,E(D,H)[2]=(y*i+L*r+a*s-c*n)*2),D.fromRotationTranslation(e,t,E(D,H)),e}static normalFromMat4(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=t[4],c=t[5],y=t[6],L=t[7],k=t[8],l=t[9],b=t[10],h=t[11],M=t[12],d=t[13],m=t[14],x=t[15],V=n*c-s*a,o=n*y-r*a,R=n*L-i*a,z=s*y-r*c,g=s*L-i*c,S=r*L-i*y,B=k*d-l*M,N=k*m-b*M,p=k*x-h*M,Y=l*m-b*d,I=l*x-h*d,P=b*x-h*m,Q=V*P-o*I+R*Y+z*p-g*N+S*B;return Q?(Q=1/Q,e[0]=(c*P-y*I+L*Y)*Q,e[1]=(y*p-a*P-L*N)*Q,e[2]=(a*I-c*p+L*B)*Q,e[3]=0,e[4]=(r*I-s*P-i*Y)*Q,e[5]=(n*P-r*p+i*N)*Q,e[6]=(s*p-n*I-i*B)*Q,e[7]=0,e[8]=(d*S-m*g+x*z)*Q,e[9]=(m*R-M*S-x*o)*Q,e[10]=(M*g-d*R+x*V)*Q,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e):null}static normalFromMat4Fast(e,t){let n=t[0],s=t[1],r=t[2],i=t[4],a=t[5],c=t[6],y=t[8],L=t[9],k=t[10];return e[0]=a*k-k*L,e[1]=c*y-y*k,e[2]=i*L-L*y,e[3]=0,e[4]=L*r-k*s,e[5]=k*n-y*r,e[6]=y*s-L*n,e[7]=0,e[8]=s*c-r*a,e[9]=r*i-n*c,e[10]=n*a-s*i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static getTranslation(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}static getScaling(e,t){let n=t[0],s=t[1],r=t[2],i=t[4],a=t[5],c=t[6],y=t[8],L=t[9],k=t[10];return e[0]=Math.sqrt(n*n+s*s+r*r),e[1]=Math.sqrt(i*i+a*a+c*c),e[2]=Math.sqrt(y*y+L*L+k*k),e}static getRotation(e,t){D.getScaling(E(D,H),t);let n=1/E(D,H)[0],s=1/E(D,H)[1],r=1/E(D,H)[2],i=t[0]*n,a=t[1]*s,c=t[2]*r,y=t[4]*n,L=t[5]*s,k=t[6]*r,l=t[8]*n,b=t[9]*s,h=t[10]*r,M=i+L+h,d=0;return M>0?(d=Math.sqrt(M+1)*2,e[3]=.25*d,e[0]=(k-b)/d,e[1]=(l-c)/d,e[2]=(a-y)/d):i>L&&i>h?(d=Math.sqrt(1+i-L-h)*2,e[3]=(k-b)/d,e[0]=.25*d,e[1]=(a+y)/d,e[2]=(l+c)/d):L>h?(d=Math.sqrt(1+L-i-h)*2,e[3]=(l-c)/d,e[0]=(a+y)/d,e[1]=.25*d,e[2]=(k+b)/d):(d=Math.sqrt(1+h-i-L)*2,e[3]=(a-y)/d,e[0]=(l+c)/d,e[1]=(k+b)/d,e[2]=.25*d),e}static decompose(e,t,n,s){t[0]=s[12],t[1]=s[13],t[2]=s[14];let r=s[0],i=s[1],a=s[2],c=s[4],y=s[5],L=s[6],k=s[8],l=s[9],b=s[10];n[0]=Math.sqrt(r*r+i*i+a*a),n[1]=Math.sqrt(c*c+y*y+L*L),n[2]=Math.sqrt(k*k+l*l+b*b);let h=1/n[0],M=1/n[1],d=1/n[2],m=r*h,x=i*M,V=a*d,o=c*h,R=y*M,z=L*d,g=k*h,S=l*M,B=b*d,N=m+R+B,p=0;return N>0?(p=Math.sqrt(N+1)*2,e[3]=.25*p,e[0]=(z-S)/p,e[1]=(g-V)/p,e[2]=(x-o)/p):m>R&&m>B?(p=Math.sqrt(1+m-R-B)*2,e[3]=(z-S)/p,e[0]=.25*p,e[1]=(x+o)/p,e[2]=(g+V)/p):R>B?(p=Math.sqrt(1+R-m-B)*2,e[3]=(g-V)/p,e[0]=(x+o)/p,e[1]=.25*p,e[2]=(z+S)/p):(p=Math.sqrt(1+B-m-R)*2,e[3]=(x-o)/p,e[0]=(g+V)/p,e[1]=(z+S)/p,e[2]=.25*p),e}static fromRotationTranslationScale(e,t,n,s){let r=t[0],i=t[1],a=t[2],c=t[3],y=r+r,L=i+i,k=a+a,l=r*y,b=r*L,h=r*k,M=i*L,d=i*k,m=a*k,x=c*y,V=c*L,o=c*k,R=s[0],z=s[1],g=s[2];return e[0]=(1-(M+m))*R,e[1]=(b+o)*R,e[2]=(h-V)*R,e[3]=0,e[4]=(b-o)*z,e[5]=(1-(l+m))*z,e[6]=(d+x)*z,e[7]=0,e[8]=(h+V)*g,e[9]=(d-x)*g,e[10]=(1-(l+M))*g,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}static fromRotationTranslationScaleOrigin(e,t,n,s,r){let i=t[0],a=t[1],c=t[2],y=t[3],L=i+i,k=a+a,l=c+c,b=i*L,h=i*k,M=i*l,d=a*k,m=a*l,x=c*l,V=y*L,o=y*k,R=y*l,z=s[0],g=s[1],S=s[2],B=r[0],N=r[1],p=r[2],Y=(1-(d+x))*z,I=(h+R)*z,P=(M-o)*z,Q=(h-R)*g,K=(1-(b+x))*g,ee=(m+V)*g,te=(M+o)*S,be=(m-V)*S,Me=(1-(b+d))*S;return e[0]=Y,e[1]=I,e[2]=P,e[3]=0,e[4]=Q,e[5]=K,e[6]=ee,e[7]=0,e[8]=te,e[9]=be,e[10]=Me,e[11]=0,e[12]=n[0]+B-(Y*B+Q*N+te*p),e[13]=n[1]+N-(I*B+K*N+be*p),e[14]=n[2]+p-(P*B+ee*N+Me*p),e[15]=1,e}static fromQuat(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=n+n,c=s+s,y=r+r,L=n*a,k=s*a,l=s*c,b=r*a,h=r*c,M=r*y,d=i*a,m=i*c,x=i*y;return e[0]=1-l-M,e[1]=k+x,e[2]=b-m,e[3]=0,e[4]=k-x,e[5]=1-L-M,e[6]=h+d,e[7]=0,e[8]=b+m,e[9]=h-d,e[10]=1-L-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static frustumNO(e,t,n,s,r,i,a=1/0){let c=1/(n-t),y=1/(r-s);if(e[0]=i*2*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*y,e[6]=0,e[7]=0,e[8]=(n+t)*c,e[9]=(r+s)*y,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0){let L=1/(i-a);e[10]=(a+i)*L,e[14]=2*a*i*L}else e[10]=-1,e[14]=-2*i;return e}static frustum(e,t,n,s,r,i,a=1/0){return e}static frustumZO(e,t,n,s,r,i,a=1/0){let c=1/(n-t),y=1/(r-s);if(e[0]=i*2*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*y,e[6]=0,e[7]=0,e[8]=(n+t)*c,e[9]=(r+s)*y,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0){let L=1/(i-a);e[10]=a*L,e[14]=a*i*L}else e[10]=-1,e[14]=-i;return e}static perspectiveNO(e,t,n,s,r=1/0){let i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0){let a=1/(s-r);e[10]=(r+s)*a,e[14]=2*r*s*a}else e[10]=-1,e[14]=-2*s;return e}static perspective(e,t,n,s,r=1/0){return e}static perspectiveZO(e,t,n,s,r=1/0){let i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0){let a=1/(s-r);e[10]=r*a,e[14]=r*s*a}else e[10]=-1,e[14]=-s;return e}static perspectiveFromFieldOfView(e,t,n,s){let r=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),c=Math.tan(t.rightDegrees*Math.PI/180),y=2/(a+c),L=2/(r+i);return e[0]=y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=L,e[6]=0,e[7]=0,e[8]=-((a-c)*y*.5),e[9]=(r-i)*L*.5,e[10]=s/(n-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*n/(n-s),e[15]=0,e}static orthoNO(e,t,n,s,r,i,a){let c=1/(t-n),y=1/(s-r),L=1/(i-a);return e[0]=-2*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*y,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*L,e[11]=0,e[12]=(t+n)*c,e[13]=(r+s)*y,e[14]=(a+i)*L,e[15]=1,e}static ortho(e,t,n,s,r,i,a){return e}static orthoZO(e,t,n,s,r,i,a){let c=1/(t-n),y=1/(s-r),L=1/(i-a);return e[0]=-2*c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*y,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=L,e[11]=0,e[12]=(t+n)*c,e[13]=(r+s)*y,e[14]=i*L,e[15]=1,e}static lookAt(e,t,n,s){let r=t[0],i=t[1],a=t[2],c=s[0],y=s[1],L=s[2],k=n[0],l=n[1],b=n[2];if(Math.abs(r-k)<1e-6&&Math.abs(i-l)<1e-6&&Math.abs(a-b)<1e-6)return D.identity(e);let h=r-k,M=i-l,d=a-b,m=1/Math.sqrt(h*h+M*M+d*d);h*=m,M*=m,d*=m;let x=y*d-L*M,V=L*h-c*d,o=c*M-y*h;m=Math.sqrt(x*x+V*V+o*o),m?(m=1/m,x*=m,V*=m,o*=m):(x=0,V=0,o=0);let R=M*o-d*V,z=d*x-h*o,g=h*V-M*x;return m=Math.sqrt(R*R+z*z+g*g),m?(m=1/m,R*=m,z*=m,g*=m):(R=0,z=0,g=0),e[0]=x,e[1]=R,e[2]=h,e[3]=0,e[4]=V,e[5]=z,e[6]=M,e[7]=0,e[8]=o,e[9]=g,e[10]=d,e[11]=0,e[12]=-(x*r+V*i+o*a),e[13]=-(R*r+z*i+g*a),e[14]=-(h*r+M*i+d*a),e[15]=1,e}static targetTo(e,t,n,s){let r=t[0],i=t[1],a=t[2],c=s[0],y=s[1],L=s[2],k=r-n[0],l=i-n[1],b=a-n[2],h=k*k+l*l+b*b;h>0&&(h=1/Math.sqrt(h),k*=h,l*=h,b*=h);let M=y*b-L*l,d=L*k-c*b,m=c*l-y*k;return h=M*M+d*d+m*m,h>0&&(h=1/Math.sqrt(h),M*=h,d*=h,m*=h),e[0]=M,e[1]=d,e[2]=m,e[3]=0,e[4]=l*m-b*d,e[5]=b*M-k*m,e[6]=k*d-l*M,e[7]=0,e[8]=k,e[9]=l,e[10]=b,e[11]=0,e[12]=r,e[13]=i,e[14]=a,e[15]=1,e}static frob(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8]+e[9]*e[9]+e[10]*e[10]+e[11]*e[11]+e[12]*e[12]+e[13]*e[13]+e[14]*e[14]+e[15]*e[15])}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}static subtract(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}static sub(e,t,n){return e}static multiplyScalar(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}static multiplyScalarAndAdd(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e[4]=t[4]+n[4]*s,e[5]=t[5]+n[5]*s,e[6]=t[6]+n[6]*s,e[7]=t[7]+n[7]*s,e[8]=t[8]+n[8]*s,e[9]=t[9]+n[9]*s,e[10]=t[10]+n[10]*s,e[11]=t[11]+n[11]*s,e[12]=t[12]+n[12]*s,e[13]=t[13]+n[13]*s,e[14]=t[14]+n[14]*s,e[15]=t[15]+n[15]*s,e}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}static equals(e,t){let n=e[0],s=e[1],r=e[2],i=e[3],a=e[4],c=e[5],y=e[6],L=e[7],k=e[8],l=e[9],b=e[10],h=e[11],M=e[12],d=e[13],m=e[14],x=e[15],V=t[0],o=t[1],R=t[2],z=t[3],g=t[4],S=t[5],B=t[6],N=t[7],p=t[8],Y=t[9],I=t[10],P=t[11],Q=t[12],K=t[13],ee=t[14],te=t[15];return Math.abs(n-V)<=1e-6*Math.max(1,Math.abs(n),Math.abs(V))&&Math.abs(s-o)<=1e-6*Math.max(1,Math.abs(s),Math.abs(o))&&Math.abs(r-R)<=1e-6*Math.max(1,Math.abs(r),Math.abs(R))&&Math.abs(i-z)<=1e-6*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(a-g)<=1e-6*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(c-S)<=1e-6*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(y-B)<=1e-6*Math.max(1,Math.abs(y),Math.abs(B))&&Math.abs(L-N)<=1e-6*Math.max(1,Math.abs(L),Math.abs(N))&&Math.abs(k-p)<=1e-6*Math.max(1,Math.abs(k),Math.abs(p))&&Math.abs(l-Y)<=1e-6*Math.max(1,Math.abs(l),Math.abs(Y))&&Math.abs(b-I)<=1e-6*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(h-P)<=1e-6*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(M-Q)<=1e-6*Math.max(1,Math.abs(M),Math.abs(Q))&&Math.abs(d-K)<=1e-6*Math.max(1,Math.abs(d),Math.abs(K))&&Math.abs(m-ee)<=1e-6*Math.max(1,Math.abs(m),Math.abs(ee))&&Math.abs(x-te)<=1e-6*Math.max(1,Math.abs(x),Math.abs(te))}static str(e){return`Mat4(${e.join(", ")})`}};ie=new WeakMap,H=new WeakMap,Z(D,ie,new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])),Z(D,H,new Float64Array(3));var G=D;G.prototype.mul=G.prototype.multiply;G.sub=G.subtract;G.mul=G.multiply;G.frustum=G.frustumNO;G.perspective=G.perspectiveNO;G.ortho=G.orthoNO;var T=class A extends Float64Array{constructor(...e){switch(e.length){case 3:super(e);break;case 2:super(e[0],e[1],3);break;case 1:{let t=e[0];typeof t=="number"?super([t,t,t]):super(t,0,3);break}default:super(3);break}}get x(){return this[0]}set x(e){this[0]=e}get y(){return this[1]}set y(e){this[1]=e}get z(){return this[2]}set z(e){this[2]=e}get r(){return this[0]}set r(e){this[0]=e}get g(){return this[1]}set g(e){this[1]=e}get b(){return this[2]}set b(e){this[2]=e}get magnitude(){let e=this[0],t=this[1],n=this[2];return Math.sqrt(e*e+t*t+n*n)}get mag(){return this.magnitude}get squaredMagnitude(){let e=this[0],t=this[1],n=this[2];return e*e+t*t+n*n}get sqrMag(){return this.squaredMagnitude}get str(){return A.str(this)}copy(e){return this.set(e),this}add(e){return this[0]+=e[0],this[1]+=e[1],this[2]+=e[2],this}subtract(e){return this[0]-=e[0],this[1]-=e[1],this[2]-=e[2],this}sub(e){return this}multiply(e){return this[0]*=e[0],this[1]*=e[1],this[2]*=e[2],this}mul(e){return this}divide(e){return this[0]/=e[0],this[1]/=e[1],this[2]/=e[2],this}div(e){return this}scale(e){return this[0]*=e,this[1]*=e,this[2]*=e,this}scaleAndAdd(e,t){return this[0]+=e[0]*t,this[1]+=e[1]*t,this[2]+=e[2]*t,this}distance(e){return A.distance(this,e)}dist(e){return 0}squaredDistance(e){return A.squaredDistance(this,e)}sqrDist(e){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this}abs(){return this[0]=Math.abs(this[0]),this[1]=Math.abs(this[1]),this[2]=Math.abs(this[2]),this}dot(e){return this[0]*e[0]+this[1]*e[1]+this[2]*e[2]}normalize(){return A.normalize(this,this)}static get BYTE_LENGTH(){return 3*Float64Array.BYTES_PER_ELEMENT}static create(){return new A}static clone(e){return new A(e)}static magnitude(e){let t=e[0],n=e[1],s=e[2];return Math.sqrt(t*t+n*n+s*s)}static mag(e){return 0}static length(e){return 0}static len(e){return 0}static fromValues(e,t,n){return new A(e,t,n)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}static set(e,t,n,s){return e[0]=t,e[1]=n,e[2]=s,e}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}static subtract(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}static sub(e,t,n){return[0,0,0]}static multiply(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}static mul(e,t,n){return[0,0,0]}static divide(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}static div(e,t,n){return[0,0,0]}static ceil(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}static floor(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}static min(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}static max(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}static scale(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}static scaleAndAdd(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e}static distance(e,t){let n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+s*s+r*r)}static dist(e,t){return 0}static squaredDistance(e,t){let n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2];return n*n+s*s+r*r}static sqrDist(e,t){return 0}static squaredLength(e){let t=e[0],n=e[1],s=e[2];return t*t+n*n+s*s}static sqrLen(e,t){return 0}static negate(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}static inverse(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}static abs(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}static normalize(e,t){let n=t[0],s=t[1],r=t[2],i=n*n+s*s+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}static dot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}static cross(e,t,n){let s=t[0],r=t[1],i=t[2],a=n[0],c=n[1],y=n[2];return e[0]=r*y-i*c,e[1]=i*a-s*y,e[2]=s*c-r*a,e}static lerp(e,t,n,s){let r=t[0],i=t[1],a=t[2];return e[0]=r+s*(n[0]-r),e[1]=i+s*(n[1]-i),e[2]=a+s*(n[2]-a),e}static slerp(e,t,n,s){let r=Math.acos(Math.min(Math.max(A.dot(t,n),-1),1)),i=Math.sin(r),a=Math.sin((1-s)*r)/i,c=Math.sin(s*r)/i;return e[0]=a*t[0]+c*n[0],e[1]=a*t[1]+c*n[1],e[2]=a*t[2]+c*n[2],e}static hermite(e,t,n,s,r,i){let a=i*i,c=a*(2*i-3)+1,y=a*(i-2)+i,L=a*(i-1),k=a*(3-2*i);return e[0]=t[0]*c+n[0]*y+s[0]*L+r[0]*k,e[1]=t[1]*c+n[1]*y+s[1]*L+r[1]*k,e[2]=t[2]*c+n[2]*y+s[2]*L+r[2]*k,e}static bezier(e,t,n,s,r,i){let a=1-i,c=a*a,y=i*i,L=c*a,k=3*i*c,l=3*y*a,b=y*i;return e[0]=t[0]*L+n[0]*k+s[0]*l+r[0]*b,e[1]=t[1]*L+n[1]*k+s[1]*l+r[1]*b,e[2]=t[2]*L+n[2]*k+s[2]*l+r[2]*b,e}static transformMat4(e,t,n){let s=t[0],r=t[1],i=t[2],a=n[3]*s+n[7]*r+n[11]*i+n[15]||1;return e[0]=(n[0]*s+n[4]*r+n[8]*i+n[12])/a,e[1]=(n[1]*s+n[5]*r+n[9]*i+n[13])/a,e[2]=(n[2]*s+n[6]*r+n[10]*i+n[14])/a,e}static transformMat3(e,t,n){let s=t[0],r=t[1],i=t[2];return e[0]=s*n[0]+r*n[3]+i*n[6],e[1]=s*n[1]+r*n[4]+i*n[7],e[2]=s*n[2]+r*n[5]+i*n[8],e}static transformQuat(e,t,n){let s=n[0],r=n[1],i=n[2],a=n[3]*2,c=t[0],y=t[1],L=t[2],k=r*L-i*y,l=i*c-s*L,b=s*y-r*c,h=(r*b-i*l)*2,M=(i*k-s*b)*2,d=(s*l-r*k)*2;return e[0]=c+k*a+h,e[1]=y+l*a+M,e[2]=L+b*a+d,e}static rotateX(e,t,n,s){let r=n[1],i=n[2],a=t[1]-r,c=t[2]-i;return e[0]=t[0],e[1]=a*Math.cos(s)-c*Math.sin(s)+r,e[2]=a*Math.sin(s)+c*Math.cos(s)+i,e}static rotateY(e,t,n,s){let r=n[0],i=n[2],a=t[0]-r,c=t[2]-i;return e[0]=c*Math.sin(s)+a*Math.cos(s)+r,e[1]=t[1],e[2]=c*Math.cos(s)-a*Math.sin(s)+i,e}static rotateZ(e,t,n,s){let r=n[0],i=n[1],a=t[0]-r,c=t[1]-i;return e[0]=a*Math.cos(s)-c*Math.sin(s)+r,e[1]=a*Math.sin(s)+c*Math.cos(s)+i,e[2]=n[2],e}static angle(e,t){let n=e[0],s=e[1],r=e[2],i=t[0],a=t[1],c=t[2],y=Math.sqrt((n*n+s*s+r*r)*(i*i+a*a+c*c)),L=y&&A.dot(e,t)/y;return Math.acos(Math.min(Math.max(L,-1),1))}static zero(e){return e[0]=0,e[1]=0,e[2]=0,e}static str(e){return`Vec3(${e.join(", ")})`}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}static equals(e,t){let n=e[0],s=e[1],r=e[2],i=t[0],a=t[1],c=t[2];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(s-a)<=1e-6*Math.max(1,Math.abs(s),Math.abs(a))&&Math.abs(r-c)<=1e-6*Math.max(1,Math.abs(r),Math.abs(c))}};T.prototype.sub=T.prototype.subtract;T.prototype.mul=T.prototype.multiply;T.prototype.div=T.prototype.divide;T.prototype.dist=T.prototype.distance;T.prototype.sqrDist=T.prototype.squaredDistance;T.sub=T.subtract;T.mul=T.multiply;T.div=T.divide;T.dist=T.distance;T.sqrDist=T.squaredDistance;T.sqrLen=T.squaredLength;T.mag=T.magnitude;T.length=T.magnitude;T.len=T.magnitude;var q=class A extends Float64Array{constructor(...e){switch(e.length){case 4:super(e);break;case 2:super(e[0],e[1],4);break;case 1:{let t=e[0];typeof t=="number"?super([t,t,t,t]):super(t,0,4);break}default:super(4);break}}get x(){return this[0]}set x(e){this[0]=e}get y(){return this[1]}set y(e){this[1]=e}get z(){return this[2]}set z(e){this[2]=e}get w(){return this[3]}set w(e){this[3]=e}get r(){return this[0]}set r(e){this[0]=e}get g(){return this[1]}set g(e){this[1]=e}get b(){return this[2]}set b(e){this[2]=e}get a(){return this[3]}set a(e){this[3]=e}get magnitude(){let e=this[0],t=this[1],n=this[2],s=this[3];return Math.sqrt(e*e+t*t+n*n+s*s)}get mag(){return this.magnitude}get str(){return A.str(this)}copy(e){return super.set(e),this}add(e){return this[0]+=e[0],this[1]+=e[1],this[2]+=e[2],this[3]+=e[3],this}subtract(e){return this[0]-=e[0],this[1]-=e[1],this[2]-=e[2],this[3]-=e[3],this}sub(e){return this}multiply(e){return this[0]*=e[0],this[1]*=e[1],this[2]*=e[2],this[3]*=e[3],this}mul(e){return this}divide(e){return this[0]/=e[0],this[1]/=e[1],this[2]/=e[2],this[3]/=e[3],this}div(e){return this}scale(e){return this[0]*=e,this[1]*=e,this[2]*=e,this[3]*=e,this}scaleAndAdd(e,t){return this[0]+=e[0]*t,this[1]+=e[1]*t,this[2]+=e[2]*t,this[3]+=e[3]*t,this}distance(e){return A.distance(this,e)}dist(e){return 0}squaredDistance(e){return A.squaredDistance(this,e)}sqrDist(e){return 0}negate(){return this[0]*=-1,this[1]*=-1,this[2]*=-1,this[3]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this[2]=1/this[2],this[3]=1/this[3],this}abs(){return this[0]=Math.abs(this[0]),this[1]=Math.abs(this[1]),this[2]=Math.abs(this[2]),this[3]=Math.abs(this[3]),this}dot(e){return this[0]*e[0]+this[1]*e[1]+this[2]*e[2]+this[3]*e[3]}normalize(){return A.normalize(this,this)}static get BYTE_LENGTH(){return 4*Float64Array.BYTES_PER_ELEMENT}static create(){return new A}static clone(e){return new A(e)}static fromValues(e,t,n,s){return new A(e,t,n,s)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}static set(e,t,n,s,r){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}static subtract(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}static sub(e,t,n){return e}static multiply(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}static mul(e,t,n){return e}static divide(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}static div(e,t,n){return e}static ceil(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}static floor(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}static min(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}static max(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}static round(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}static scale(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}static scaleAndAdd(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e}static distance(e,t){let n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2],i=t[3]-e[3];return Math.hypot(n,s,r,i)}static dist(e,t){return 0}static squaredDistance(e,t){let n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2],i=t[3]-e[3];return n*n+s*s+r*r+i*i}static sqrDist(e,t){return 0}static magnitude(e){let t=e[0],n=e[1],s=e[2],r=e[3];return Math.sqrt(t*t+n*n+s*s+r*r)}static mag(e){return 0}static length(e){return 0}static len(e){return 0}static squaredLength(e){let t=e[0],n=e[1],s=e[2],r=e[3];return t*t+n*n+s*s+r*r}static sqrLen(e){return 0}static negate(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}static inverse(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}static abs(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e[3]=Math.abs(t[3]),e}static normalize(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=n*n+s*s+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=s*a,e[2]=r*a,e[3]=i*a,e}static dot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}static cross(e,t,n,s){let r=n[0]*s[1]-n[1]*s[0],i=n[0]*s[2]-n[2]*s[0],a=n[0]*s[3]-n[3]*s[0],c=n[1]*s[2]-n[2]*s[1],y=n[1]*s[3]-n[3]*s[1],L=n[2]*s[3]-n[3]*s[2],k=t[0],l=t[1],b=t[2],h=t[3];return e[0]=l*L-b*y+h*c,e[1]=-(k*L)+b*a-h*i,e[2]=k*y-l*a+h*r,e[3]=-(k*c)+l*i-b*r,e}static lerp(e,t,n,s){let r=t[0],i=t[1],a=t[2],c=t[3];return e[0]=r+s*(n[0]-r),e[1]=i+s*(n[1]-i),e[2]=a+s*(n[2]-a),e[3]=c+s*(n[3]-c),e}static transformMat4(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3];return e[0]=n[0]*s+n[4]*r+n[8]*i+n[12]*a,e[1]=n[1]*s+n[5]*r+n[9]*i+n[13]*a,e[2]=n[2]*s+n[6]*r+n[10]*i+n[14]*a,e[3]=n[3]*s+n[7]*r+n[11]*i+n[15]*a,e}static transformQuat(e,t,n){let s=t[0],r=t[1],i=t[2],a=n[0],c=n[1],y=n[2],L=n[3],k=L*s+c*i-y*r,l=L*r+y*s-a*i,b=L*i+a*r-c*s,h=-a*s-c*r-y*i;return e[0]=k*L+h*-a+l*-y-b*-c,e[1]=l*L+h*-c+b*-a-k*-y,e[2]=b*L+h*-y+k*-c-l*-a,e[3]=t[3],e}static zero(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}static str(e){return`Vec4(${e.join(", ")})`}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}static equals(e,t){let n=e[0],s=e[1],r=e[2],i=e[3],a=t[0],c=t[1],y=t[2],L=t[3];return Math.abs(n-a)<=1e-6*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(s-c)<=1e-6*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-y)<=1e-6*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-L)<=1e-6*Math.max(1,Math.abs(i),Math.abs(L))}};q.prototype.sub=q.prototype.subtract;q.prototype.mul=q.prototype.multiply;q.prototype.div=q.prototype.divide;q.prototype.dist=q.prototype.distance;q.prototype.sqrDist=q.prototype.squaredDistance;q.sub=q.subtract;q.mul=q.multiply;q.div=q.divide;q.dist=q.distance;q.sqrDist=q.squaredDistance;q.sqrLen=q.squaredLength;q.mag=q.magnitude;q.length=q.magnitude;q.len=q.magnitude;var ke,ae,ce,W,U,le,he,f=class f extends Float64Array{constructor(...e){switch(e.length){case 4:super(e);break;case 2:super(e[0],e[1],4);break;case 1:{let t=e[0];typeof t=="number"?super([t,t,t,t]):super(t,0,4);break}default:super(4),this[3]=1;break}}get x(){return this[0]}set x(e){this[0]=e}get y(){return this[1]}set y(e){this[1]=e}get z(){return this[2]}set z(e){this[2]=e}get w(){return this[3]}set w(e){this[3]=e}get magnitude(){let e=this[0],t=this[1],n=this[2],s=this[3];return Math.sqrt(e*e+t*t+n*n+s*s)}get mag(){return this.magnitude}get str(){return f.str(this)}copy(e){return super.set(e),this}identity(){return this[0]=0,this[1]=0,this[2]=0,this[3]=1,this}multiply(e){return f.multiply(this,this,e)}mul(e){return this}rotateX(e){return f.rotateX(this,this,e)}rotateY(e){return f.rotateY(this,this,e)}rotateZ(e){return f.rotateZ(this,this,e)}invert(){return f.invert(this,this)}scale(e){return this[0]*=e,this[1]*=e,this[2]*=e,this[3]*=e,this}dot(e){return f.dot(this,e)}static get BYTE_LENGTH(){return 4*Float64Array.BYTES_PER_ELEMENT}static create(){return new f}static identity(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}static setAxisAngle(e,t,n){n=n*.5;let s=Math.sin(n);return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=Math.cos(n),e}static getAxisAngle(e,t){let n=Math.acos(t[3])*2,s=Math.sin(n/2);return s>1e-6?(e[0]=t[0]/s,e[1]=t[1]/s,e[2]=t[2]/s):(e[0]=1,e[1]=0,e[2]=0),n}static getAngle(e,t){let n=f.dot(e,t);return Math.acos(2*n*n-1)}static multiply(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=n[0],y=n[1],L=n[2],k=n[3];return e[0]=s*k+a*c+r*L-i*y,e[1]=r*k+a*y+i*c-s*L,e[2]=i*k+a*L+s*y-r*c,e[3]=a*k-s*c-r*y-i*L,e}static rotateX(e,t,n){n*=.5;let s=t[0],r=t[1],i=t[2],a=t[3],c=Math.sin(n),y=Math.cos(n);return e[0]=s*y+a*c,e[1]=r*y+i*c,e[2]=i*y-r*c,e[3]=a*y-s*c,e}static rotateY(e,t,n){n*=.5;let s=t[0],r=t[1],i=t[2],a=t[3],c=Math.sin(n),y=Math.cos(n);return e[0]=s*y-i*c,e[1]=r*y+a*c,e[2]=i*y+s*c,e[3]=a*y-r*c,e}static rotateZ(e,t,n){n*=.5;let s=t[0],r=t[1],i=t[2],a=t[3],c=Math.sin(n),y=Math.cos(n);return e[0]=s*y+r*c,e[1]=r*y-s*c,e[2]=i*y+a*c,e[3]=a*y-i*c,e}static calculateW(e,t){let n=t[0],s=t[1],r=t[2];return e[0]=n,e[1]=s,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-s*s-r*r)),e}static exp(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=Math.sqrt(n*n+s*s+r*r),c=Math.exp(i),y=a>0?c*Math.sin(a)/a:0;return e[0]=n*y,e[1]=s*y,e[2]=r*y,e[3]=c*Math.cos(a),e}static ln(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=Math.sqrt(n*n+s*s+r*r),c=a>0?Math.atan2(a,i)/a:0;return e[0]=n*c,e[1]=s*c,e[2]=r*c,e[3]=.5*Math.log(n*n+s*s+r*r+i*i),e}static pow(e,t,n){return f.ln(e,t),f.scale(e,e,n),f.exp(e,e),e}static slerp(e,t,n,s){let r=t[0],i=t[1],a=t[2],c=t[3],y=n[0],L=n[1],k=n[2],l=n[3],b,h,M=r*y+i*L+a*k+c*l;if(M<0&&(M=-M,y=-y,L=-L,k=-k,l=-l),1-M>1e-6){let d=Math.acos(M),m=Math.sin(d);b=Math.sin((1-s)*d)/m,h=Math.sin(s*d)/m}else b=1-s,h=s;return e[0]=b*r+h*y,e[1]=b*i+h*L,e[2]=b*a+h*k,e[3]=b*c+h*l,e}static invert(e,t){let n=t[0],s=t[1],r=t[2],i=t[3],a=n*n+s*s+r*r+i*i,c=a?1/a:0;return e[0]=-n*c,e[1]=-s*c,e[2]=-r*c,e[3]=i*c,e}static conjugate(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}static fromMat3(e,t){let n=t[0]+t[4]+t[8],s;if(n>0)s=Math.sqrt(n+1),e[3]=.5*s,s=.5/s,e[0]=(t[5]-t[7])*s,e[1]=(t[6]-t[2])*s,e[2]=(t[1]-t[3])*s;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);let i=(r+1)%3,a=(r+2)%3;s=Math.sqrt(t[r*3+r]-t[i*3+i]-t[a*3+a]+1),e[r]=.5*s,s=.5/s,e[3]=(t[i*3+a]-t[a*3+i])*s,e[i]=(t[i*3+r]+t[r*3+i])*s,e[a]=(t[a*3+r]+t[r*3+a])*s}return e}static fromEuler(e,t,n,s,r=E(f,ke)){let i=.5*Math.PI/180;t*=i,n*=i,s*=i;let a=Math.sin(t),c=Math.cos(t),y=Math.sin(n),L=Math.cos(n),k=Math.sin(s),l=Math.cos(s);switch(r){case"xyz":e[0]=a*L*l+c*y*k,e[1]=c*y*l-a*L*k,e[2]=c*L*k+a*y*l,e[3]=c*L*l-a*y*k;break;case"xzy":e[0]=a*L*l-c*y*k,e[1]=c*y*l-a*L*k,e[2]=c*L*k+a*y*l,e[3]=c*L*l+a*y*k;break;case"yxz":e[0]=a*L*l+c*y*k,e[1]=c*y*l-a*L*k,e[2]=c*L*k-a*y*l,e[3]=c*L*l+a*y*k;break;case"yzx":e[0]=a*L*l+c*y*k,e[1]=c*y*l+a*L*k,e[2]=c*L*k-a*y*l,e[3]=c*L*l-a*y*k;break;case"zxy":e[0]=a*L*l-c*y*k,e[1]=c*y*l+a*L*k,e[2]=c*L*k+a*y*l,e[3]=c*L*l-a*y*k;break;case"zyx":e[0]=a*L*l-c*y*k,e[1]=c*y*l+a*L*k,e[2]=c*L*k-a*y*l,e[3]=c*L*l+a*y*k;break;default:throw new Error("Unknown angle order "+r)}return e}static str(e){return`Quat(${e.join(", ")})`}static clone(e){return new f(e)}static fromValues(e,t,n,s){return new f(e,t,n,s)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}static set(e,t,n,s,r){return e}static add(e,t,n){return e}static mul(e,t,n){return e}static scale(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}static dot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}static lerp(e,t,n,s){return e}static magnitude(e){return 0}static mag(e){return 0}static length(e){return 0}static len(e){return 0}static squaredLength(e){return 0}static sqrLen(e){return 0}static normalize(e,t){return e}static exactEquals(e,t){return!1}static equals(e,t){return!1}static rotationTo(e,t,n){let s=T.dot(t,n);return s<-.999999?(T.cross(E(f,U),E(f,le),t),T.mag(E(f,U))<1e-6&&T.cross(E(f,U),E(f,he),t),T.normalize(E(f,U),E(f,U)),f.setAxisAngle(e,E(f,U),Math.PI),e):s>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(T.cross(E(f,U),t,n),e[0]=E(f,U)[0],e[1]=E(f,U)[1],e[2]=E(f,U)[2],e[3]=1+s,f.normalize(e,e))}static sqlerp(e,t,n,s,r,i){return f.slerp(E(f,ae),t,r,i),f.slerp(E(f,ce),n,s,i),f.slerp(e,E(f,ae),E(f,ce),2*i*(1-i)),e}static setAxes(e,t,n,s){return E(f,W)[0]=n[0],E(f,W)[3]=n[1],E(f,W)[6]=n[2],E(f,W)[1]=s[0],E(f,W)[4]=s[1],E(f,W)[7]=s[2],E(f,W)[2]=-t[0],E(f,W)[5]=-t[1],E(f,W)[8]=-t[2],f.normalize(e,f.fromMat3(e,E(f,W)))}};ke=new WeakMap,ae=new WeakMap,ce=new WeakMap,W=new WeakMap,U=new WeakMap,le=new WeakMap,he=new WeakMap,Z(f,ke,"zyx"),Z(f,ae,new Float64Array(4)),Z(f,ce,new Float64Array(4)),Z(f,W,new Float64Array(9)),Z(f,U,new Float64Array(3)),Z(f,le,new Float64Array([1,0,0])),Z(f,he,new Float64Array([0,1,0]));var O=f;O.set=q.set;O.add=q.add;O.lerp=q.lerp;O.normalize=q.normalize;O.squaredLength=q.squaredLength;O.sqrLen=q.squaredLength;O.exactEquals=q.exactEquals;O.equals=q.equals;O.magnitude=q.magnitude;O.prototype.mul=O.prototype.multiply;O.mul=O.multiply;O.mag=O.magnitude;O.length=O.magnitude;O.len=O.magnitude;var ye,Le,j=class j extends Float64Array{constructor(...e){switch(e.length){case 8:super(e);break;case 2:super(e[0],e[1],8);break;case 1:{let t=e[0];typeof t=="number"?super([t,t,t,t,t,t,t,t]):super(t,0,8);break}default:super(8),this[3]=1;break}}get str(){return j.str(this)}copy(e){return super.set(e),this}static get BYTE_LENGTH(){return 8*Float64Array.BYTES_PER_ELEMENT}static create(){return new j}static clone(e){return new j(e)}static fromValues(e,t,n,s,r,i,a,c){return new j(e,t,n,s,r,i,a,c)}static fromRotationTranslationValues(e,t,n,s,r,i,a){let c=r*.5,y=i*.5,L=a*.5;return new j(e,t,n,s,c*s+y*n-L*t,y*s+L*e-c*n,L*s+c*t-y*e,-c*e-y*t-L*n)}static fromRotationTranslation(e,t,n){let s=n[0]*.5,r=n[1]*.5,i=n[2]*.5,a=t[0],c=t[1],y=t[2],L=t[3];return e[0]=a,e[1]=c,e[2]=y,e[3]=L,e[4]=s*L+r*y-i*c,e[5]=r*L+i*a-s*y,e[6]=i*L+s*c-r*a,e[7]=-s*a-r*c-i*y,e}static fromTranslation(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0]*.5,e[5]=t[1]*.5,e[6]=t[2]*.5,e[7]=0,e}static fromRotation(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}static fromMat4(e,t){return G.getRotation(E(j,ye),t),G.getTranslation(E(j,Le),t),j.fromRotationTranslation(e,E(j,ye),E(j,Le))}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}static identity(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}static set(e,t,n,s,r,i,a,c,y){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=i,e[5]=a,e[6]=c,e[7]=y,e}static getReal(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}static getDual(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}static setReal(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}static setDual(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}static getTranslation(e,t){let n=t[4],s=t[5],r=t[6],i=t[7],a=-t[0],c=-t[1],y=-t[2],L=t[3];return e[0]=(n*L+i*a+s*y-r*c)*2,e[1]=(s*L+i*c+r*a-n*y)*2,e[2]=(r*L+i*y+n*c-s*a)*2,e}static translate(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=n[0]*.5,y=n[1]*.5,L=n[2]*.5,k=t[4],l=t[5],b=t[6],h=t[7];return e[0]=s,e[1]=r,e[2]=i,e[3]=a,e[4]=a*c+r*L-i*y+k,e[5]=a*y+i*c-s*L+l,e[6]=a*L+s*y-r*c+b,e[7]=-s*c-r*y-i*L+h,e}static rotateX(e,t,n){let s=-t[0],r=-t[1],i=-t[2],a=t[3],c=t[4],y=t[5],L=t[6],k=t[7],l=c*a+k*s+y*i-L*r,b=y*a+k*r+L*s-c*i,h=L*a+k*i+c*r-y*s,M=k*a-c*s-y*r-L*i;return O.rotateX(e,t,n),s=e[0],r=e[1],i=e[2],a=e[3],e[4]=l*a+M*s+b*i-h*r,e[5]=b*a+M*r+h*s-l*i,e[6]=h*a+M*i+l*r-b*s,e[7]=M*a-l*s-b*r-h*i,e}static rotateY(e,t,n){let s=-t[0],r=-t[1],i=-t[2],a=t[3],c=t[4],y=t[5],L=t[6],k=t[7],l=c*a+k*s+y*i-L*r,b=y*a+k*r+L*s-c*i,h=L*a+k*i+c*r-y*s,M=k*a-c*s-y*r-L*i;return O.rotateY(e,t,n),s=e[0],r=e[1],i=e[2],a=e[3],e[4]=l*a+M*s+b*i-h*r,e[5]=b*a+M*r+h*s-l*i,e[6]=h*a+M*i+l*r-b*s,e[7]=M*a-l*s-b*r-h*i,e}static rotateZ(e,t,n){let s=-t[0],r=-t[1],i=-t[2],a=t[3],c=t[4],y=t[5],L=t[6],k=t[7],l=c*a+k*s+y*i-L*r,b=y*a+k*r+L*s-c*i,h=L*a+k*i+c*r-y*s,M=k*a-c*s-y*r-L*i;return O.rotateZ(e,t,n),s=e[0],r=e[1],i=e[2],a=e[3],e[4]=l*a+M*s+b*i-h*r,e[5]=b*a+M*r+h*s-l*i,e[6]=h*a+M*i+l*r-b*s,e[7]=M*a-l*s-b*r-h*i,e}static rotateByQuatAppend(e,t,n){let s=n[0],r=n[1],i=n[2],a=n[3],c=t[0],y=t[1],L=t[2],k=t[3];return e[0]=c*a+k*s+y*i-L*r,e[1]=y*a+k*r+L*s-c*i,e[2]=L*a+k*i+c*r-y*s,e[3]=k*a-c*s-y*r-L*i,c=t[4],y=t[5],L=t[6],k=t[7],e[4]=c*a+k*s+y*i-L*r,e[5]=y*a+k*r+L*s-c*i,e[6]=L*a+k*i+c*r-y*s,e[7]=k*a-c*s-y*r-L*i,e}static rotateByQuatPrepend(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=n[0],y=n[1],L=n[2],k=n[3];return e[0]=s*k+a*c+r*L-i*y,e[1]=r*k+a*y+i*c-s*L,e[2]=i*k+a*L+s*y-r*c,e[3]=a*k-s*c-r*y-i*L,c=n[4],y=n[5],L=n[6],k=n[7],e[4]=s*k+a*c+r*L-i*y,e[5]=r*k+a*y+i*c-s*L,e[6]=i*k+a*L+s*y-r*c,e[7]=a*k-s*c-r*y-i*L,e}static rotateAroundAxis(e,t,n,s){if(Math.abs(s)<1e-6)return j.copy(e,t);let r=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);s=s*.5;let i=Math.sin(s),a=i*n[0]/r,c=i*n[1]/r,y=i*n[2]/r,L=Math.cos(s),k=t[0],l=t[1],b=t[2],h=t[3];e[0]=k*L+h*a+l*y-b*c,e[1]=l*L+h*c+b*a-k*y,e[2]=b*L+h*y+k*c-l*a,e[3]=h*L-k*a-l*c-b*y;let M=t[4],d=t[5],m=t[6],x=t[7];return e[4]=M*L+x*a+d*y-m*c,e[5]=d*L+x*c+m*a-M*y,e[6]=m*L+x*y+M*c-d*a,e[7]=x*L-M*a-d*c-m*y,e}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}static multiply(e,t,n){let s=t[0],r=t[1],i=t[2],a=t[3],c=n[4],y=n[5],L=n[6],k=n[7],l=t[4],b=t[5],h=t[6],M=t[7],d=n[0],m=n[1],x=n[2],V=n[3];return e[0]=s*V+a*d+r*x-i*m,e[1]=r*V+a*m+i*d-s*x,e[2]=i*V+a*x+s*m-r*d,e[3]=a*V-s*d-r*m-i*x,e[4]=s*k+a*c+r*L-i*y+l*V+M*d+b*x-h*m,e[5]=r*k+a*y+i*c-s*L+b*V+M*m+h*d-l*x,e[6]=i*k+a*L+s*y-r*c+h*V+M*x+l*m-b*d,e[7]=a*k-s*c-r*y-i*L+M*V-l*d-b*m-h*x,e}static mul(e,t,n){return e}static scale(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}static dot(e,t){return 0}static lerp(e,t,n,s){let r=1-s;return j.dot(t,n)<0&&(s=-s),e[0]=t[0]*r+n[0]*s,e[1]=t[1]*r+n[1]*s,e[2]=t[2]*r+n[2]*s,e[3]=t[3]*r+n[3]*s,e[4]=t[4]*r+n[4]*s,e[5]=t[5]*r+n[5]*s,e[6]=t[6]*r+n[6]*s,e[7]=t[7]*r+n[7]*s,e}static invert(e,t){let n=j.squaredLength(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}static conjugate(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}static magnitude(e){return 0}static mag(e){return 0}static length(e){return 0}static len(e){return 0}static squaredLength(e){return 0}static sqrLen(e){return 0}static normalize(e,t){let n=j.squaredLength(t);if(n>0){n=Math.sqrt(n);let s=t[0]/n,r=t[1]/n,i=t[2]/n,a=t[3]/n,c=t[4],y=t[5],L=t[6],k=t[7],l=s*c+r*y+i*L+a*k;e[0]=s,e[1]=r,e[2]=i,e[3]=a,e[4]=(c-s*l)/n,e[5]=(y-r*l)/n,e[6]=(L-i*l)/n,e[7]=(k-a*l)/n}return e}static str(e){return`Quat2(${e.join(", ")})`}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}static equals(e,t){let n=e[0],s=e[1],r=e[2],i=e[3],a=e[4],c=e[5],y=e[6],L=e[7],k=t[0],l=t[1],b=t[2],h=t[3],M=t[4],d=t[5],m=t[6],x=t[7];return Math.abs(n-k)<=1e-6*Math.max(1,Math.abs(n),Math.abs(k))&&Math.abs(s-l)<=1e-6*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(r-b)<=1e-6*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-h)<=1e-6*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-M)<=1e-6*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(c-d)<=1e-6*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(y-m)<=1e-6*Math.max(1,Math.abs(y),Math.abs(m))&&Math.abs(L-x)<=1e-6*Math.max(1,Math.abs(L),Math.abs(x))}};ye=new WeakMap,Le=new WeakMap,Z(j,ye,new Float64Array(4)),Z(j,Le,new Float64Array(3));var J=j;J.dot=O.dot;J.squaredLength=O.squaredLength;J.sqrLen=O.squaredLength;J.mag=O.magnitude;J.length=O.magnitude;J.len=O.magnitude;J.mul=J.multiply;var F=class A extends Float64Array{constructor(...e){switch(e.length){case 2:{let t=e[0];typeof t=="number"?super([t,e[1]]):super(t,e[1],2);break}case 1:{let t=e[0];typeof t=="number"?super([t,t]):super(t,0,2);break}default:super(2);break}}get x(){return this[0]}set x(e){this[0]=e}get y(){return this[1]}set y(e){this[1]=e}get r(){return this[0]}set r(e){this[0]=e}get g(){return this[1]}set g(e){this[1]=e}get magnitude(){return Math.hypot(this[0],this[1])}get mag(){return this.magnitude}get squaredMagnitude(){let e=this[0],t=this[1];return e*e+t*t}get sqrMag(){return this.squaredMagnitude}get str(){return A.str(this)}copy(e){return this.set(e),this}add(e){return this[0]+=e[0],this[1]+=e[1],this}subtract(e){return this[0]-=e[0],this[1]-=e[1],this}sub(e){return this}multiply(e){return this[0]*=e[0],this[1]*=e[1],this}mul(e){return this}divide(e){return this[0]/=e[0],this[1]/=e[1],this}div(e){return this}scale(e){return this[0]*=e,this[1]*=e,this}scaleAndAdd(e,t){return this[0]+=e[0]*t,this[1]+=e[1]*t,this}distance(e){return A.distance(this,e)}dist(e){return 0}squaredDistance(e){return A.squaredDistance(this,e)}sqrDist(e){return 0}negate(){return this[0]*=-1,this[1]*=-1,this}invert(){return this[0]=1/this[0],this[1]=1/this[1],this}abs(){return this[0]=Math.abs(this[0]),this[1]=Math.abs(this[1]),this}dot(e){return this[0]*e[0]+this[1]*e[1]}normalize(){return A.normalize(this,this)}static get BYTE_LENGTH(){return 2*Float64Array.BYTES_PER_ELEMENT}static create(){return new A}static clone(e){return new A(e)}static fromValues(e,t){return new A(e,t)}static copy(e,t){return e[0]=t[0],e[1]=t[1],e}static set(e,t,n){return e[0]=t,e[1]=n,e}static add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}static subtract(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}static sub(e,t,n){return[0,0]}static multiply(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}static mul(e,t,n){return[0,0]}static divide(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}static div(e,t,n){return[0,0]}static ceil(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}static floor(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}static min(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}static max(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}static round(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}static scale(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}static scaleAndAdd(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e}static distance(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}static dist(e,t){return 0}static squaredDistance(e,t){let n=t[0]-e[0],s=t[1]-e[1];return n*n+s*s}static sqrDist(e,t){return 0}static magnitude(e){let t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}static mag(e){return 0}static length(e){return 0}static len(e){return 0}static squaredLength(e){let t=e[0],n=e[1];return t*t+n*n}static sqrLen(e,t){return 0}static negate(e,t){return e[0]=-t[0],e[1]=-t[1],e}static inverse(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}static abs(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e}static normalize(e,t){let n=t[0],s=t[1],r=n*n+s*s;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e}static dot(e,t){return e[0]*t[0]+e[1]*t[1]}static cross(e,t,n){let s=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=s,e}static lerp(e,t,n,s){let r=t[0],i=t[1];return e[0]=r+s*(n[0]-r),e[1]=i+s*(n[1]-i),e}static transformMat2(e,t,n){let s=t[0],r=t[1];return e[0]=n[0]*s+n[2]*r,e[1]=n[1]*s+n[3]*r,e}static transformMat2d(e,t,n){let s=t[0],r=t[1];return e[0]=n[0]*s+n[2]*r+n[4],e[1]=n[1]*s+n[3]*r+n[5],e}static transformMat3(e,t,n){let s=t[0],r=t[1];return e[0]=n[0]*s+n[3]*r+n[6],e[1]=n[1]*s+n[4]*r+n[7],e}static transformMat4(e,t,n){let s=t[0],r=t[1];return e[0]=n[0]*s+n[4]*r+n[12],e[1]=n[1]*s+n[5]*r+n[13],e}static rotate(e,t,n,s){let r=t[0]-n[0],i=t[1]-n[1],a=Math.sin(s),c=Math.cos(s);return e[0]=r*c-i*a+n[0],e[1]=r*a+i*c+n[1],e}static angle(e,t){let n=e[0],s=e[1],r=t[0],i=t[1],a=Math.sqrt(n*n+s*s)*Math.sqrt(r*r+i*i),c=a&&(n*r+s*i)/a;return Math.acos(Math.min(Math.max(c,-1),1))}static zero(e){return e[0]=0,e[1]=0,e}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]}static equals(e,t){let n=e[0],s=e[1],r=t[0],i=t[1];return Math.abs(n-r)<=1e-6*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(s-i)<=1e-6*Math.max(1,Math.abs(s),Math.abs(i))}static str(e){return`Vec2(${e.join(", ")})`}};F.prototype.sub=F.prototype.subtract;F.prototype.mul=F.prototype.multiply;F.prototype.div=F.prototype.divide;F.prototype.dist=F.prototype.distance;F.prototype.sqrDist=F.prototype.squaredDistance;F.sub=F.subtract;F.mul=F.multiply;F.div=F.divide;F.dist=F.distance;F.sqrDist=F.squaredDistance;F.sqrLen=F.squaredLength;F.mag=F.magnitude;F.length=F.magnitude;F.len=F.magnitude;var me=!1;function ve(){if(me)return;let A=["xx","xy","yx","yy","xxx","xxy","xyx","xyy","yxx","yxy","yyx","yyy","xxxx","xxxy","xxyx","xxyy","xyxx","xyxy","xyyx","xyyy","yxxx","yxxy","yxyx","yxyy","yyxx","yyxy","yyyx","yyyy","rr","rg","gr","gg","rrr","rrg","rgr","rgg","grr","grg","ggr","ggg","rrrr","rrrg","rrgr","rrgg","rgrr","rgrg","rggr","rggg","grrr","grrg","grgr","grgg","ggrr","ggrg","gggr","gggg"],e=["xz","yz","zx","zy","zz","xxz","xyz","xzx","xzy","xzz","yxz","yyz","yzx","yzy","yzz","zxx","zxy","zxz","zyx","zyy","zyz","zzx","zzy","zzz","xxxz","xxyz","xxzx","xxzy","xxzz","xyxz","xyyz","xyzx","xyzy","xyzz","xzxx","xzxy","xzxz","xzyx","xzyy","xzyz","xzzx","xzzy","xzzz","yxxz","yxyz","yxzx","yxzy","yxzz","yyxz","yyyz","yyzx","yyzy","yyzz","yzxx","yzxy","yzxz","yzyx","yzyy","yzyz","yzzx","yzzy","yzzz","zxxx","zxxy","zxxz","zxyx","zxyy","zxyz","zxzx","zxzy","zxzz","zyxx","zyxy","zyxz","zyyx","zyyy","zyyz","zyzx","zyzy","zyzz","zzxx","zzxy","zzxz","zzyx","zzyy","zzyz","zzzx","zzzy","zzzz","rb","gb","br","bg","bb","rrb","rgb","rbr","rbg","rbb","grb","ggb","gbr","gbg","gbb","brr","brg","brb","bgr","bgg","bgb","bbr","bbg","bbb","rrrb","rrgb","rrbr","rrbg","rrbb","rgrb","rggb","rgbr","rgbg","rgbb","rbrr","rbrg","rbrb","rbgr","rbgg","rbgb","rbbr","rbbg","rbbb","grrb","grgb","grbr","grbg","grbb","ggrb","gggb","ggbr","ggbg","ggbb","gbrr","gbrg","gbrb","gbgr","gbgg","gbgb","gbbr","gbbg","gbbb","brrr","brrg","brrb","brgr","brgg","brgb","brbr","brbg","brbb","bgrr","bgrg","bgrb","bggr","bggg","bggb","bgbr","bgbg","bgbb","bbrr","bbrg","bbrb","bbgr","bbgg","bbgb","bbbr","bbbg","bbbb"],t=["xw","yw","zw","wx","wy","wz","ww","xxw","xyw","xzw","xwx","xwy","xwz","xww","yxw","yyw","yzw","ywx","ywy","ywz","yww","zxw","zyw","zzw","zwx","zwy","zwz","zww","wxx","wxy","wxz","wxw","wyx","wyy","wyz","wyw","wzx","wzy","wzz","wzw","wwx","wwy","wwz","www","xxxw","xxyw","xxzw","xxwx","xxwy","xxwz","xxww","xyxw","xyyw","xyzw","xywx","xywy","xywz","xyww","xzxw","xzyw","xzzw","xzwx","xzwy","xzwz","xzww","xwxx","xwxy","xwxz","xwxw","xwyx","xwyy","xwyz","xwyw","xwzx","xwzy","xwzz","xwzw","xwwx","xwwy","xwwz","xwww","yxxw","yxyw","yxzw","yxwx","yxwy","yxwz","yxww","yyxw","yyyw","yyzw","yywx","yywy","yywz","yyww","yzxw","yzyw","yzzw","yzwx","yzwy","yzwz","yzww","ywxx","ywxy","ywxz","ywxw","ywyx","ywyy","ywyz","ywyw","ywzx","ywzy","ywzz","ywzw","ywwx","ywwy","ywwz","ywww","zxxw","zxyw","zxzw","zxwx","zxwy","zxwz","zxww","zyxw","zyyw","zyzw","zywx","zywy","zywz","zyww","zzxw","zzyw","zzzw","zzwx","zzwy","zzwz","zzww","zwxx","zwxy","zwxz","zwxw","zwyx","zwyy","zwyz","zwyw","zwzx","zwzy","zwzz","zwzw","zwwx","zwwy","zwwz","zwww","wxxx","wxxy","wxxz","wxxw","wxyx","wxyy","wxyz","wxyw","wxzx","wxzy","wxzz","wxzw","wxwx","wxwy","wxwz","wxww","wyxx","wyxy","wyxz","wyxw","wyyx","wyyy","wyyz","wyyw","wyzx","wyzy","wyzz","wyzw","wywx","wywy","wywz","wyww","wzxx","wzxy","wzxz","wzxw","wzyx","wzyy","wzyz","wzyw","wzzx","wzzy","wzzz","wzzw","wzwx","wzwy","wzwz","wzww","wwxx","wwxy","wwxz","wwxw","wwyx","wwyy","wwyz","wwyw","wwzx","wwzy","wwzz","wwzw","wwwx","wwwy","wwwz","wwww","ra","ga","ba","ar","ag","ab","aa","rra","rga","rba","rar","rag","rab","raa","gra","gga","gba","gar","gag","gab","gaa","bra","bga","bba","bar","bag","bab","baa","arr","arg","arb","ara","agr","agg","agb","aga","abr","abg","abb","aba","aar","aag","aab","aaa","rrra","rrga","rrba","rrar","rrag","rrab","rraa","rgra","rgga","rgba","rgar","rgag","rgab","rgaa","rbra","rbga","rbba","rbar","rbag","rbab","rbaa","rarr","rarg","rarb","rara","ragr","ragg","ragb","raga","rabr","rabg","rabb","raba","raar","raag","raab","raaa","grra","grga","grba","grar","grag","grab","graa","ggra","ggga","ggba","ggar","ggag","ggab","ggaa","gbra","gbga","gbba","gbar","gbag","gbab","gbaa","garr","garg","garb","gara","gagr","gagg","gagb","gaga","gabr","gabg","gabb","gaba","gaar","gaag","gaab","gaaa","brra","brga","brba","brar","brag","brab","braa","bgra","bgga","bgba","bgar","bgag","bgab","bgaa","bbra","bbga","bbba","bbar","bbag","bbab","bbaa","barr","barg","barb","bara","bagr","bagg","bagb","baga","babr","babg","babb","baba","baar","baag","baab","baaa","arrr","arrg","arrb","arra","argr","argg","argb","arga","arbr","arbg","arbb","arba","arar","arag","arab","araa","agrr","agrg","agrb","agra","aggr","aggg","aggb","agga","agbr","agbg","agbb","agba","agar","agag","agab","agaa","abrr","abrg","abrb","abra","abgr","abgg","abgb","abga","abbr","abbg","abbb","abba","abar","abag","abab","abaa","aarr","aarg","aarb","aara","aagr","aagg","aagb","aaga","aabr","aabg","aabb","aaba","aaar","aaag","aaab","aaaa"],n={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3};function s(r){switch(r.length){case 2:return function(){return new F(this[n[r[0]]],this[n[r[1]]])};case 3:return function(){return new T(this[n[r[0]]],this[n[r[1]]],this[n[r[2]]])};case 4:return function(){return new q(this[n[r[0]]],this[n[r[1]]],this[n[r[2]]],this[n[r[3]]])}}}for(let r of A){let i=s(r);Object.defineProperty(F.prototype,r,{get:i}),Object.defineProperty(T.prototype,r,{get:i}),Object.defineProperty(q.prototype,r,{get:i})}for(let r of e){let i=s(r);Object.defineProperty(T.prototype,r,{get:i}),Object.defineProperty(q.prototype,r,{get:i})}for(let r of t){let i=s(r);Object.defineProperty(q.prototype,r,{get:i})}me=!0}var oe=Math.PI/180,Re=180/Math.PI;function _e(A){return A*Re}function et(A){return A*oe}export{ve as EnableSwizzlesF64,v as Mat2,_ as Mat2d,u as Mat3,G as Mat4,O as Quat,J as Quat2,F as Vec2,T as Vec3,q as Vec4,_e as toDegree,et as toRadian};
//# sourceMappingURL=gl-matrix-f64.min.js.map
